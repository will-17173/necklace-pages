(function(a){a.fn.flexisel=function(h){var c=a.extend({visibleItems:4,animationSpeed:200,autoPlay:false,autoPlaySpeed:3000,pauseOnHover:true,setMaxWidthAndHeight:false,enableResponsiveBreakpoints:true,clone:true,responsiveBreakpoints:{portrait:{changePoint:480,visibleItems:1},landscape:{changePoint:640,visibleItems:2},tablet:{changePoint:768,visibleItems:3}}},h);var g=a(this);var j=a.extend(c,h);var e;var b=true;var d=j.visibleItems;var k=g.children().length;var i=[];var f={init:function(){return this.each(function(){f.appendHTML();f.setEventHandlers();f.initializeItems()})},initializeItems:function(){var o=g.parent();var m=o.height();var l=g.children();f.sortResponsiveObject(j.responsiveBreakpoints);var n=o.width();e=(n)/d;l.width(e);if(j.clone){l.last().insertBefore(l.first());l.last().insertBefore(l.first());g.css({left:-e})}g.fadeIn();a(window).trigger("resize")},appendHTML:function(){g.addClass("nbs-flexisel-ul");g.wrap("<div class='nbs-flexisel-container'><div class='nbs-flexisel-inner'></div></div>");g.find("li").addClass("nbs-flexisel-item");var o=g.parent();if(j.setMaxWidthAndHeight){var m=a(".nbs-flexisel-item img").width();var l=a(".nbs-flexisel-item img").height();a(".nbs-flexisel-item img").css("max-width",m);a(".nbs-flexisel-item img").css("max-height",l)}a("<div class='nbs-flexisel-nav-left'></div><div class='nbs-flexisel-nav-right'></div>").insertAfter(o);if(j.clone){var n=g.children().clone();g.append(n)}},setEventHandlers:function(){var o=g.parent();var m=o.parent();var l=g.children();var n=m.find(".nbs-flexisel-nav-left");var p=m.find(".nbs-flexisel-nav-right");a(window).on("resize",function(r){f.setResponsiveEvents();var u=a(o).width();var t=a(o).height();e=(u)/d;l.width(e);if(j.clone){g.css({left:-e})}else{g.css({left:0})}if(!j.clone&&k<=d){n.add(p).css("visibility","hidden")}else{n.add(p).css("visibility","visible");var s=(n.height())/2;var q=(t/2)-s;n.css("top",q+"px");p.css("top",q+"px")}});a(n).on("click",function(q){f.scrollLeft()});a(p).on("click",function(q){f.scrollRight()});if(j.pauseOnHover==true){a(".nbs-flexisel-item").on({mouseenter:function(){b=false},mouseleave:function(){b=true}})}if(j.autoPlay==true){setInterval(function(){if(b==true){f.scrollRight()}},j.autoPlaySpeed)}},setResponsiveEvents:function(){var l=a("html").width();if(j.enableResponsiveBreakpoints){var n=i[i.length-1].changePoint;for(var m in i){if(l>=n){d=j.visibleItems;break}else{if(l<i[m].changePoint){d=i[m].visibleItems;break}else{continue}}}}},sortResponsiveObject:function(m){var n=[];for(var l in m){n.push(m[l])}n.sort(function(o,p){return o.changePoint-p.changePoint});i=n},scrollLeft:function(){if(g.position().left<0){if(b==true){b=false;var n=g.parent();var m=n.width();e=(m)/d;var l=g.children();g.animate({left:"+="+e},{queue:false,duration:j.animationSpeed,easing:"linear",complete:function(){if(j.clone){l.last().insertBefore(l.first())}f.adjustScroll();b=true}})}}},scrollRight:function(){var o=g.parent();var n=o.width();e=(n)/d;var m=(e-n);var p=(g.position().left+((k-d)*e)-n);if((m<=Math.ceil(p))&&(!j.clone)){if(b==true){b=false;g.animate({left:"-="+e},{queue:false,duration:j.animationSpeed,easing:"linear",complete:function(){f.adjustScroll();b=true}})}}else{if(j.clone){if(b==true){b=false;var l=g.children();g.animate({left:"-="+e},{queue:false,duration:j.animationSpeed,easing:"linear",complete:function(){l.first().insertAfter(l.last());f.adjustScroll();b=true}})}}}},adjustScroll:function(){var n=g.parent();var l=g.children();var m=n.width();e=(m)/d;l.width(e);if(j.clone){g.css({left:-e})}}};if(f[h]){return f[h].apply(this,Array.prototype.slice.call(arguments,1))}else{if(typeof h==="object"||!h){return f.init.apply(this)}else{a.error('Method "'+method+'" does not exist in flexisel plugin!')}}}})(jQuery);